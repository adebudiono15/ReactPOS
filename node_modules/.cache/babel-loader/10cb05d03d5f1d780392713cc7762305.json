{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/budiono/my-app/src/components/TotalBayar.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { numberWithCommas } from '../utils/utils';\nimport { API_LOKAL, API_TELEGRAM, API_URL } from '../utils/contants';\nexport default class TotalBayar extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getKode = () => {\n      axios.get(API_URL + \"kodepenjualanapi\").then(res => {\n        console.log(res);\n        const kode = res.data;\n        this.setState({\n          kode\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.sumbitTotalBayar = totalBayar => {\n      const pesanan = {\n        total_bayar: totalBayar,\n        menus: this.props.keranjangs\n      };\n      axios.post(API_LOKAL + \"pesanans\", pesanan).then(res => {\n        this.props.history.push('/sukses');\n      }); // send pejualan\n\n      const penjualan = {\n        no_struk: this.getKode(),\n        grand_total: totalBayar,\n        nama: this.props.keranjangs.nama_barang,\n        kode_customer: 'teskode',\n        alamat: 'tesalamat',\n        telepon: 'testelepon'\n      };\n      axios.post(API_URL + \"storepenjualan\", penjualan).then(res => {}).catch(error => {\n        console.log(error);\n      }); // Send boot\n\n      const ngetes = 'hallo';\n      axios.get(API_TELEGRAM + ngetes).then(res => {}).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    const totalBayar = this.props.keranjangs.reduce(function (result, item) {\n      return result + item.total_harga;\n    }, 0);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed-bottom d-none d-md-block\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: {\n              span: 3,\n              offset: 9\n            },\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [\"Total : \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"float-right mr-2\",\n                children: [\"Rp. \", numberWithCommas(totalBayar)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"dark\",\n              className: \"mb-3 mt-2\",\n              block: true,\n              size: \"sm\",\n              onClick: () => this.sumbitTotalBayar(totalBayar),\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"SELESAI BELANJA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-sm-block d-md-none\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: {\n              span: 3,\n              offset: 9\n            },\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [\"Total : \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"float-right mr-2\",\n                children: [\"Rp. \", numberWithCommas(totalBayar)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"dark\",\n              className: \"mb-3 mt-2\",\n              block: true,\n              size: \"sm\",\n              onClick: () => this.sumbitTotalBayar(totalBayar),\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"SELESAI BELANJA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/budiono/my-app/src/components/TotalBayar.js"],"names":["React","Component","axios","Row","Col","Button","numberWithCommas","API_LOKAL","API_TELEGRAM","API_URL","TotalBayar","getKode","get","then","res","console","log","kode","data","setState","catch","error","sumbitTotalBayar","totalBayar","pesanan","total_bayar","menus","props","keranjangs","post","history","push","penjualan","no_struk","grand_total","nama","nama_barang","kode_customer","alamat","telepon","ngetes","render","reduce","result","item","total_harga","span","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Row, Col, Button } from 'react-bootstrap'\nimport { numberWithCommas } from '../utils/utils'\nimport {API_LOKAL, API_TELEGRAM, API_URL} from '../utils/contants'\n\nexport default class TotalBayar extends Component {\n\n    getKode = () => {\n        axios\n        .get(API_URL+\"kodepenjualanapi\")\n        .then(res => {\n        console.log(res)\n        const kode = res.data;\n        this.setState({ kode });\n        })\n        .catch(error =>{\n        console.log(error)\n        })\n    }\n    sumbitTotalBayar = (totalBayar) => {\n        const pesanan ={\n            total_bayar : totalBayar,\n            menus :this.props.keranjangs\n        }\n        axios.post(API_LOKAL+\"pesanans\", pesanan).then((res) => {\n            this.props.history.push('/sukses')\n        })\n\n        // send pejualan\n        \n\n        const penjualan ={\n            no_struk : this.getKode(),\n            grand_total : totalBayar,\n            nama : this.props.keranjangs.nama_barang,\n            kode_customer: 'teskode',\n            alamat: 'tesalamat',\n            telepon: 'testelepon'\n        }\n\n        axios\n        .post(API_URL+\"storepenjualan\", penjualan)\n        .then(res => {\n      \n        })\n        .catch(error =>{\n        console.log(error)\n        })\n\n        // Send boot\n        const ngetes = ('hallo')\n        axios\n          .get(API_TELEGRAM+ngetes)\n          .then(res => {\n           \n          })\n          .catch(error =>{\n          console.log(error)\n          })\n    }\n\n    render() {\n        const totalBayar = this.props.keranjangs.reduce(function (result, item) {\n            return result + item.total_harga;\n        }, 0);\n        return (\n            <>\n            {/* web */}\n            <div className=\"fixed-bottom d-none d-md-block\">\n                <Row>\n                    <Col md={{ span: 3, offset: 9 }} className=\"px-4\">\n                        <h5>Total : <strong className=\"float-right mr-2\">Rp. {numberWithCommas(totalBayar)}</strong></h5>\n                        <Button variant=\"dark\" className=\"mb-3 mt-2\" block size=\"sm\" onClick={ () => this.sumbitTotalBayar(totalBayar)}>\n                            <strong>SELESAI BELANJA</strong>\n                        </Button>\n                    </Col>\n                </Row>\n            </div>\n\n            {/* mobile */}\n            <div className=\"d-sm-block d-md-none\">\n                <Row>\n                    <Col md={{ span: 3, offset: 9 }} className=\"px-4\">\n                        <h5>Total : <strong className=\"float-right mr-2\">Rp. {numberWithCommas(totalBayar)}</strong></h5>\n                        <Button variant=\"dark\" className=\"mb-3 mt-2\" block size=\"sm\" onClick={ () => this.sumbitTotalBayar(totalBayar)}>\n                            <strong>SELESAI BELANJA</strong>\n                        </Button>\n                    </Col>\n                </Row>\n            </div>\n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}