{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/budiono/my-app/src/pages/Home.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport { Hasil, ListCategories, Menus } from '../components';\nimport { API_URL, API_LOKAL } from '../utils/contants';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.masukKeranjang = value => {\n      axios.get(API_LOKAL + \"keranjangs?product.id=\" + value.id).then(res => {\n        if (res.data.length === 0) {\n          const keranjang = {\n            jumlah: 1,\n            total_harga: value.harga,\n            product: value\n          };\n          axios.post(API_LOKAL + \"keranjangs\", keranjang).then(res => {\n            this.getListKeranjang();\n            swal({\n              title: \"Sukses\",\n              text: \"Berhasil Masuk Keranjang\",\n              icon: \"success\",\n              button: false,\n              timer: 1500\n            });\n          }).catch(error => {\n            console.log(error);\n          });\n        } else {\n          const keranjang = {\n            jumlah: res.data[0].jumlah + 1,\n            total_harga: res.data[0].total_harga + value.harga,\n            product: value\n          };\n          axios.put(API_LOKAL + \"keranjangs/\" + res.data[0].id, keranjang).then(res => {\n            swal({\n              title: \"Sukses\",\n              text: \"Berhasil Masuk Keranjang\",\n              icon: \"success\",\n              button: false,\n              timer: 1500\n            });\n          }).catch(error => {\n            console.log(error);\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.getListKeranjang = () => {\n      axios.get(API_LOKAL + \"keranjangs\").then(res => {\n        // console.log(res)\n        const keranjangs = res.data;\n        this.setState({\n          keranjangs\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      menus: [],\n      namas: [],\n      keranjangs: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(API_URL + \"barangs\").then(res => {\n      // console.log(res)\n      const menus = res.data;\n      this.setState({\n        menus\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get(API_LOKAL + \"keranjangs\").then(res => {\n      // console.log(res)\n      const keranjangs = res.data;\n      this.setState({\n        keranjangs\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      menus,\n      keranjangs\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(ListCategories, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Daftar Produk\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"overflow-auto menu\",\n              children: menus && menus.map(menu => /*#__PURE__*/_jsxDEV(Menus, {\n                menu: menu,\n                masukKeranjang: this.masukKeranjang\n              }, menu.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 30\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(Hasil, {\n            keranjangs: keranjangs,\n            ...this.props,\n            getListKeranjang: this.getListKeranjang\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/budiono/my-app/src/pages/Home.js"],"names":["React","Component","Row","Col","Container","Hasil","ListCategories","Menus","API_URL","API_LOKAL","axios","swal","Home","constructor","props","masukKeranjang","value","get","id","then","res","data","length","keranjang","jumlah","total_harga","harga","product","post","getListKeranjang","title","text","icon","button","timer","catch","error","console","log","put","keranjangs","setState","state","menus","namas","componentDidMount","render","map","menu"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Row, Col,Container} from 'react-bootstrap';\nimport {Hasil, ListCategories,Menus} from '../components';\nimport {API_URL, API_LOKAL} from '../utils/contants'\nimport axios from 'axios'\nimport swal from 'sweetalert'\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n       menus : [],\n       namas: [],\n       keranjangs : [],\n    }\n  }\n\n  componentDidMount(){\n    axios\n    .get(API_URL+\"barangs\")\n    .then(res => {\n      // console.log(res)\n      const menus = res.data;\n      this.setState({ menus });\n    })\n    .catch(error =>{\n    console.log(error)\n    })\n\n    \n\n    axios\n    .get(API_LOKAL+\"keranjangs\")\n    .then(res => {\n      // console.log(res)\n      const keranjangs = res.data;\n      this.setState({ keranjangs });\n    })\n    .catch(error =>{\n    console.log(error)\n    })\n  }\n\n  masukKeranjang = (value) => {\n    axios\n    .get(API_LOKAL+\"keranjangs?product.id=\" + value.id)\n    .then(res => {\n      if(res.data.length === 0){\n        const keranjang = {\n          jumlah : 1,\n          total_harga : value.harga,\n          product :value\n        }\n        axios\n        .post(API_LOKAL+\"keranjangs\", keranjang)\n        .then(res => {\n          this.getListKeranjang();\n          swal({\n            title: \"Sukses\",\n            text: \"Berhasil Masuk Keranjang\",\n            icon: \"success\",\n            button: false,\n            timer :1500,\n          });\n        })\n        .catch(error =>{\n        console.log(error)\n        })\n      }else{\n        const keranjang = {\n          jumlah : res.data[0].jumlah+1,\n          total_harga : res.data[0].total_harga+value.harga,\n          product :value\n        }\n          axios\n          .put(API_LOKAL+\"keranjangs/\"+res.data[0].id, keranjang)\n          .then(res => {\n            swal({\n              title: \"Sukses\",\n              text: \"Berhasil Masuk Keranjang\",\n              icon: \"success\",\n              button: false,\n              timer :1500,\n            });\n          })\n          .catch(error =>{\n          console.log(error)\n          })\n      }\n    })\n    .catch(error =>{\n    console.log(error)\n    })\n  }\n\n  // componentDidUpdate(prevState){\n  //   if(this.state.keranjangs !== prevState.keranjangs){\n  //     axios\n  //   .get(API_LOKAL+\"keranjangs\")\n  //   .then(res => {\n  //     // console.log(res)\n  //     const keranjangs = res.data;\n  //     this.setState({ keranjangs });\n  //   })\n  //   .catch(error =>{\n  //   console.log(error)\n  //   })\n  //   }\n  // }\n\n  getListKeranjang = () => {\n    axios\n    .get(API_LOKAL+\"keranjangs\")\n    .then(res => {\n      // console.log(res)\n      const keranjangs = res.data;\n      this.setState({ keranjangs });\n    })\n    .catch(error =>{\n    console.log(error)\n    })\n    \n  }\n  \n  render() {\n    const {menus, keranjangs} = this.state\n    return (\n      <div className=\"mt-4\">\n         <Container fluid>\n             <Row>\n               <ListCategories/>\n                   <Col>\n                       <h4><strong>Daftar Produk</strong></h4>\n                       <hr/>\n                          <Row className=\"overflow-auto menu\">\n                            {menus && menus.map((menu) => (\n                             <Menus\n                              key={menu.id}\n                              menu = {menu}\n                              masukKeranjang={this.masukKeranjang}\n                             />\n                            ))}\n                          </Row>\n                   </Col>\n               <Hasil \n               keranjangs={keranjangs}\n               {...this.props}\n               getListKeranjang={this.getListKeranjang}\n               />\n         </Row>\n         </Container>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}